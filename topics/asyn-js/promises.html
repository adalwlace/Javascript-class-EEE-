<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>promises</title>
</head>

<body>
    <script>
        //producing code
        // function work() {
        //     return new Promise((resolve, reject) => {
        //         let x = 0;
        //         if (x == 0) {
        //             resolve("done");
        //         } else {
        //             reject("rejected");
        //         }
        //     });
        // }
        //consuming code
        // work().then((value) => {
        //     console.log(value);
        // }).catch((err) => {
        //     console.log(err);
        // });

        2.
        // function work1(){
        //     return new Promise((resolve,reject)=>{
        //                     // setTimeout(() => {
        //                     //     resolve("first");
        //                     // }, 2000);
        //         setTimeout(() => {
        //             reject("rejected");
        //         }, 4000);
        //     }); // ki reject ki resolve, dubai hudaina
        // }
        // work1().then((value)=>{
        //     console.log(value);
        // }).catch((err)=>{
        //     console.log(err);
        // })


        //Create two functions: fetchData and processData. fetchData should return a promise that resolves with the string "Data fetched" after 1 second. processData should take a string as an argument and return a promise that resolves with the string "Data processed" after 1 second. Chain these functions together and log the final result.

        function fetchData(){
            return new Promise((resolve,reject)=>{
                setTimeout(() => {
                   resolve("data fetched"); 
                }, 1000);
            })
        }

        function processData(data){
            return new Promise((resolve,reject)=>{
                setTimeout(() => {
                    resolve("data processed");
                }, 1000);
            })
        }
        
        fetchData().then((value)=>{
            console.log(value);
            return processData(value);
        }).then((value1)=>{
            console.log(value1);
        })
    </script>
</body>

</html>